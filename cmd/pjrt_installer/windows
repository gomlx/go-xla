//go:build (windows && amd64) || pjrt_all

package main

import (
	"fmt"
	"runtime"

	"github.com/gomlx/go-xla/pkg/installer"
)

func init() {
	for _, plugin := range []string{"windows"} {
		pluginInstallers[plugin] = func(plugin, version, installPath string) error {
			return installer.CPUInstall(plugin, version, installPath, *flagCache, installer.VerbosityLevel(*flagVerbosity))
		}
		pluginValidators[plugin] = installer.CPUValidateVersion
	}
	pluginValues = append(pluginValues, "linux")
	pluginDescriptions = append(pluginDescriptions,
		fmt.Sprintf("CPU PJRT for Linux/%s (glibc >= 2.34)", runtime.GOARCH))
	pluginPriorities = append(pluginPriorities, 0, 1)
	installPathSuggestions = append(installPathSuggestions, "~/.local/lib/go-xla", "/usr/local/lib/go-xla")
}
